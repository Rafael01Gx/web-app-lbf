import{a as ct}from"./chunk-UZRXG77M.js";import"./chunk-ZAZVFRPM.js";import"./chunk-CNP2COBP.js";import{a as st}from"./chunk-KDNFE22G.js";import{b as lt}from"./chunk-DQBQ7EW5.js";import{a as k}from"./chunk-IMUJMABS.js";import{a as u,b as at,c as it}from"./chunk-RUE4O575.js";import{d as mt}from"./chunk-T2AQUXFH.js";import{A as Z,B as tt,C as et,D as nt,S as O,T as ot,b as H,i as V,j as F,l as $,m as N,r as B,s as j,t as W,u as G,v as J,w as K,x as U,y as X,z as Y}from"./chunk-Q23MXH7B.js";import"./chunk-2PPFUFFT.js";import{l as z}from"./chunk-RYRDEO54.js";import{b as Q}from"./chunk-I3X2TQNM.js";import{k as L,l as q}from"./chunk-RF64FGT2.js";import"./chunk-QRFH67T7.js";import"./chunk-FD6YJ6N6.js";import"./chunk-3IDK2O2Y.js";import{k as rt}from"./chunk-VR7FPLW7.js";import"./chunk-FQ7V5Y7D.js";import"./chunk-E2AUU6GZ.js";import{Bc as I,Ec as T,Gc as R,Kb as f,Tb as i,Ub as a,Vb as C,Wb as l,Xb as s,Zb as h,bb as m,ea as _,fc as A,hc as E,ma as M,mc as S,na as g,nc as x,oc as w,rb as v,sc as D,tc as o,uc as b,vc as d,wc as y,yb as r}from"./chunk-YR66D3FA.js";import"./chunk-EQDQRRRY.js";var _t=()=>[10,25,100];function ft(t,e){t&1&&(i(0,"th",21),o(1," N\xBA OS"),a())}function Ct(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.numeroOs," ")}}function ut(t,e){t&1&&(i(0,"th",21),o(1," Status "),a())}function Mt(t,e){if(t&1&&(i(0,"td",23),o(1),T(2,"mask"),a()),t&2){let n=e.$implicit;m(),y(" ",n.status," - ",R(2,2,n.progresso,"percent.2"),"%")}}function gt(t,e){t&1&&(i(0,"th",21),o(1," Identifica\xE7\xE3o "),a())}function ht(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.nome_amostra," ")}}function At(t,e){t&1&&(i(0,"th",21),o(1," Data_amostra "),a())}function Et(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.data_amostra," ")}}function St(t,e){t&1&&(i(0,"th",21),o(1," Solicitante"),a())}function xt(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.solicitante.name," ")}}function wt(t,e){t&1&&(i(0,"th",21),o(1," Ensaios_requeridos "),a())}function Ot(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.ensaios_solicitados," ")}}function Pt(t,e){t&1&&(i(0,"th",21),o(1," Prazo Inicio - Fim "),a())}function vt(t,e){if(t&1&&(i(0,"td",22),o(1),a()),t&2){let n=e.$implicit;m(),d(" ",n.prazo_inicio_fim," ")}}function Dt(t,e){t&1&&(i(0,"th",21),o(1," Editar "),a())}function bt(t,e){if(t&1){let n=h();i(0,"td",22)(1,"mat-icon",24),A("click",function(){let p=M(n).$implicit,P=E();return g(P.openAnalysisDetail(p))}),o(2,"edit"),a()()}}function yt(t,e){t&1&&C(0,"tr",25)}function It(t,e){t&1&&C(0,"tr",26)}function Tt(t,e){if(t&1&&(i(0,"tr",27)(1,"td",28),o(2),a()()),t&2){E();let n=D(6);m(2),b(n.value)}}var pt=class t{paginator;sort;#t=_(mt);#e=_(lt);#n=_(k);#a=_(st).calcularPrazoEmDias;lista_amostras=[];displayedColumns=["numeroOs","status","nome_amostra","data_amostra","solicitante","ensaios_solicitados","prazo_inicio_fim","editar"];dataSource=new nt;ngOnInit(){this.listarDados()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let n=e.target.value;this.dataSource.filter=n.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}listarDados(){this.#e.httpListarTodasAsAmostras().subscribe(e=>{e&&e.amostras?(this.lista_amostras=Object.values(e.amostras).filter(n=>n.status==="Em Execu\xE7\xE3o"),this.dataSource.data=this.lista_amostras):this.#n.error(e.message)})}openAnalysisDetail(e){let n=this.#t.open(ct,{width:"auto",minWidth:"50lvw",maxWidth:"90lvw",maxHeight:"90lvh",data:e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-analise-em-anamento"]],viewQuery:function(n,c){if(n&1&&(S(O,5),S(u,5)),n&2){let p;x(p=w())&&(c.paginator=p.first),x(p=w())&&(c.sort=p.first)}},decls:37,vars:5,consts:[["input",""],[1,"tabela-container"],[1,"filter-field"],["matInput","","placeholder","Ex. Mia",3,"keyup"],[1,"mat-elevation-z8","table-wrapper"],["mat-table","","matSort","",1,"t-table",3,"dataSource"],["matColumnDef","numeroOs"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","blue",4,"matCellDef"],["matColumnDef","nome_amostra"],["matColumnDef","data_amostra"],["matColumnDef","solicitante"],["matColumnDef","ensaios_solicitados"],["matColumnDef","prazo_inicio_fim"],["matColumnDef","editar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",1,"sticky-paginator",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"blue"],[1,"blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,c){if(n&1){let p=h();i(0,"mat-card")(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),o(4,"Filter"),a(),i(5,"input",3,0),A("keyup",function(dt){return M(p),g(c.applyFilter(dt))}),a()(),i(7,"div",4)(8,"table",5),l(9,6),r(10,ft,2,0,"th",7)(11,Ct,2,1,"td",8),s(),l(12,9),r(13,ut,2,0,"th",7)(14,Mt,3,5,"td",10),s(),l(15,11),r(16,gt,2,0,"th",7)(17,ht,2,1,"td",8),s(),l(18,12),r(19,At,2,0,"th",7)(20,Et,2,1,"td",8),s(),l(21,13),r(22,St,2,0,"th",7)(23,xt,2,1,"td",8),s(),l(24,14),r(25,wt,2,0,"th",7)(26,Ot,2,1,"td",8),s(),l(27,15),r(28,Pt,2,0,"th",7)(29,vt,2,1,"td",8),s(),l(30,16),r(31,Dt,2,0,"th",7)(32,bt,3,0,"td",8),s(),r(33,yt,1,0,"tr",17)(34,It,1,0,"tr",18)(35,Tt,3,1,"tr",19),a(),C(36,"mat-paginator",20),a()()()}n&2&&(m(8),f("dataSource",c.dataSource),m(25),f("matHeaderRowDef",c.displayedColumns),m(),f("matRowDefColumns",c.displayedColumns),m(2),f("pageSizeOptions",I(4,_t)))},dependencies:[Q,et,B,W,U,G,j,X,J,K,Y,Z,tt,z,q,L,F,V,H,O,N,$,it,u,at,ot,rt],styles:["[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;max-height:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;position:relative}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%]{background:var(--gray-100)}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .sticky-paginator[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:2}"]})};export{pt as AnaliseEmAnamentoComponent};
