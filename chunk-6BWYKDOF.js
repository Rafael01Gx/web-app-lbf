import{a as he}from"./chunk-NG4HERBT.js";import"./chunk-M6DGHITQ.js";import{a as Me}from"./chunk-3TIWJO7N.js";import"./chunk-IMUJMABS.js";import{a as Ce,c as xe}from"./chunk-RUE4O575.js";import{d as v}from"./chunk-T2AQUXFH.js";import{A as _e,C as ge,D as fe,S as P,T as Oe,b as Y,i as Z,j as ee,l as te,m as ne,r as oe,s as re,t as le,u as ce,v as de,w as me,x as se,y as pe,z as ue}from"./chunk-Q23MXH7B.js";import{c as W,d as q,g as T,h as k,j as U}from"./chunk-2PPFUFFT.js";import{b as J,j as K,l as X}from"./chunk-RYRDEO54.js";import{k as ae,l as ie}from"./chunk-RF64FGT2.js";import"./chunk-QRFH67T7.js";import"./chunk-FD6YJ6N6.js";import"./chunk-3IDK2O2Y.js";import"./chunk-FQ7V5Y7D.js";import"./chunk-E2AUU6GZ.js";import{Bc as z,Ec as L,Fb as $,Gb as H,Gc as j,Jb as B,Kb as u,Mb as N,Pb as D,Qb as A,Rb as S,Sb as E,Tb as o,Ub as n,Vb as f,Wb as O,Xb as M,Zb as C,_a as R,bb as r,cb as F,ea as w,fc as x,hc as d,kc as Q,ma as _,mc as b,na as g,nc as y,oc as I,rb as V,tc as i,uc as h,vc as s,yb as p}from"./chunk-YR66D3FA.js";import"./chunk-EQDQRRRY.js";var ve=()=>[Z,Y,te,oe,le,se,ce,re,pe,de,me,ue,_e,P,import("./chunk-OYM2J3YL.js").then(t=>t.MatCard),ae,J,K,import("./chunk-HXVWHJB2.js").then(t=>t.NgxMaskPipe)],we=()=>["expandedDetail"],De=()=>[10,30,50];function Ae(t,a){if(t&1&&(o(0,"th",17),i(1),n()),t&2){let e=d().$implicit;r(),h(e)}}function Se(t,a){if(t&1&&(o(0,"td",18),i(1),n()),t&2){let e=a.$implicit,l=d().$implicit;r(),h(e[l])}}function Ee(t,a){if(t&1&&(O(0,7),p(1,Ae,2,1,"th",16)(2,Se,2,1,"td",10),M()),t&2){let e=a.$implicit;Q("matColumnDef",e)}}function be(t,a){t&1&&(o(0,"th",19),i(1," \xA0 "),n())}function ye(t,a){t&1&&(o(0,"mat-icon"),i(1,"keyboard_arrow_up"),n())}function Ie(t,a){t&1&&(o(0,"mat-icon"),i(1,"keyboard_arrow_down"),n())}function ze(t,a){if(t&1){let e=C();o(0,"td",18)(1,"button",20),x("click",function(c){let m=_(e).$implicit,G=d(2);return G.expandedElement=G.expandedElement===m?null:m,g(c.stopPropagation())}),p(2,ye,2,0,"mat-icon")(3,Ie,2,0,"mat-icon"),n()()}if(t&2){let e=a.$implicit,l=d(2);r(2),D(l.expandedElement===e?2:3)}}function Te(t,a){if(t&1&&(o(0,"li")(1,"strong"),i(2,"Obs:"),n(),i(3),n()),t&2){let e=d().$implicit;r(3),s("\xA0 ",e.observacao,"")}}function ke(t,a){if(t&1&&(o(0,"li")(1,"strong"),i(2,"Identifica\xE7\xE3o:"),n(),i(3),n(),o(4,"li")(5,"strong"),i(6,"Data:"),n(),i(7),n(),o(8,"li")(9,"strong"),i(10,"Ensaios solicitados:"),n(),i(11),n(),f(12,"hr")),t&2){let e=a.$implicit;r(3),s("\xA0 ",e.nome_amostra," "),r(4),s("\xA0 ",e.data_amostra,""),r(4),s("\xA0 ",e.ensaios_solicitados," ")}}function Ge(t,a){if(t&1){let e=C();o(0,"td",18)(1,"div",21)(2,"div",22)(3,"p"),i(4,"Informa\xE7\xF5es do solicitante:"),n(),o(5,"ul")(6,"li")(7,"strong"),i(8,"Nome:"),n(),i(9),n(),o(10,"li")(11,"strong"),i(12,"E-mail:"),n(),i(13,"\xA0"),o(14,"a",23),i(15),n()(),o(16,"li")(17,"strong"),i(18,"\xC1rea:"),n(),i(19),n(),o(20,"li")(21,"strong"),i(22,"Fun\xE7\xE3o:"),n(),i(23),n(),o(24,"li")(25,"strong"),i(26,"Contato:"),n(),i(27),L(28,"mask"),n(),p(29,Te,4,1,"li"),n()(),o(30,"div",22)(31,"p"),i(32,"Amostras :"),n(),o(33,"ul"),S(34,ke,13,3,null,null,A),n()(),o(36,"div",24)(37,"button",25),x("click",function(){let c=_(e).$implicit,m=d(2);return g(m.openDialog(c))}),i(38," Editar "),n()()()()}if(t&2){let e=a.$implicit,l=d(2);B("colspan",l.columnsToDisplayWithExpand.length),r(),u("@detailExpand",e==l.expandedElement?"expanded":"collapsed"),r(8),s("\xA0",e.solicitante.name," "),r(5),u("href","mailto:"+e.solicitante.email,R),r(),h(e.solicitante.email),r(4),s("\xA0",e.solicitante.area," "),r(4),s("\xA0",e.solicitante.funcao," "),r(4),s("\xA0",j(28,9,e.solicitante.phone,"(00) 0 0000-0000")," "),r(2),D(e.observacao?29:-1),r(5),E(l.getAmostrasValues(e.amostras))}}function Re(t,a){t&1&&f(0,"tr",26)}function Fe(t,a){if(t&1){let e=C();o(0,"tr",27),x("click",function(){let c=_(e).$implicit,m=d(2);return g(m.expandedElement=m.expandedElement===c?null:c)}),n()}if(t&2){let e=a.$implicit,l=d(2);N("example-expanded-row",l.expandedElement===e)}}function Ve(t,a){t&1&&f(0,"tr",28)}function $e(t,a){if(t&1){let e=C();o(0,"mat-card")(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),i(4,"Filtro"),n(),o(5,"input",4,0),x("keyup",function(c){_(e);let m=d();return g(m.applyFilter(c))}),n()(),o(7,"div",5)(8,"table",6),S(9,Ee,3,1,"ng-container",7,A),O(11,8),p(12,be,2,0,"th",9)(13,ze,4,1,"td",10),M(),O(14,11),p(15,Ge,39,12,"td",10),M(),p(16,Re,1,0,"tr",12)(17,Fe,1,2,"tr",13)(18,Ve,1,0,"tr",14),n(),f(19,"mat-paginator",15,1),n()()()}if(t&2){let e=d();r(8),u("dataSource",e.dataSource),r(),E(e.displayedColumns),r(7),u("matHeaderRowDef",e.columnsToDisplayWithExpand),r(),u("matRowDefColumns",e.columnsToDisplayWithExpand),r(),u("matRowDefColumns",z(5,we)),r(),u("pageSizeOptions",z(6,De))}}var Pe=class t{constructor(a){this.MatDialog=a}#e=w(Me);listOs=[];dataSource=new fe(this.listOs);displayedColumns=["numeroOs","data_solicitacao","status"];columnsToDisplayWithExpand=[...this.displayedColumns,"expand"];expandedElement;paginator;sort;ngOnInit(){this.#e.httpListarTodasOrdensDeServico().subscribe(a=>{a&&a.ordemsDeServico?(this.listOs=a.ordemsDeServico.filter(e=>e.status=="Aguardando Autoriza\xE7\xE3o"),this.dataSource.data=this.listOs):console.error("Nenhuma ordem de servi\xE7o encontrada na resposta")})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(a){let e=a.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAmostrasValues(a){return Object.values(a)}dialog=w(v);openDialog(a){this.dialog.open(he,{width:"400px",data:a}).afterClosed().subscribe(l=>{l?this.#e.httpListarTodasOrdensDeServico().subscribe(c=>{c&&c.ordemsDeServico?(this.listOs=c.ordemsDeServico.filter(m=>m.status=="Aguardando Autoriza\xE7\xE3o"),this.dataSource.data=this.listOs):console.error("Nenhuma ordem de servi\xE7o encontrada na resposta")}):console.log("Modal fechada sem exclus\xE3o")})}static \u0275fac=function(e){return new(e||t)(F(v))};static \u0275cmp=V({type:t,selectors:[["app-gerenciar-os-aguardando-autorizacao"]],viewQuery:function(e,l){if(e&1&&(b(P,5),b(Ce,5)),e&2){let c;y(c=I())&&(l.paginator=c.first),y(c=I())&&(l.sort=c.first)}},decls:3,vars:0,consts:[["input",""],["paginator",""],[1,"tabela-container"],[1,"filter-field"],["matInput","","placeholder","",3,"keyup"],[1,"mat-elevation-z8","table-wrapper"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","t-table",3,"dataSource"],[3,"matColumnDef"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a p\xE1gina de usu\xE1rios",1,"sticky-paginator",3,"pageSizeOptions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[1,"detalhes"],[1,"container"],[3,"href"],[1,"btn-container"],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,l){e&1&&(p(0,$e,21,7),$(1,0,ve),H())},dependencies:[ee,ne,ge,xe,Oe,ie,X],styles:["[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;position:relative}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}[_nghost-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .sticky-paginator[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:2}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;max-height:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   tr.example-detail-row[_ngcontent-%COMP%]{height:0}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]{width:100%;overflow:hidden;display:grid;grid-template-columns:1fr 1fr;grid-row:auto;margin-bottom:10px;box-shadow:#0000000d 0 0 0 1px,#d1d5db 0 0 0 1px inset}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:10px;display:flex;flex-direction:column;align-items:center;justify-content:start;flex-grow:1;color:var(--blue-10);line-height:24px}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--red-10)}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3;display:flex;width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .detalhes[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 10px 10px auto;border-radius:4px}"],data:{animation:[W("detailExpand",[k("collapsed,void",T({height:"0px",minHeight:"0"})),k("expanded",T({height:"*"})),U("expanded <=> collapsed",q("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})};export{Pe as GerenciarOsAguardandoAutorizacaoComponent};
