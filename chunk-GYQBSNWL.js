import{a as rt}from"./chunk-ZAA4KUUC.js";import"./chunk-ZAZVFRPM.js";import"./chunk-CNP2COBP.js";import{a as ot}from"./chunk-KDNFE22G.js";import{b as at}from"./chunk-RSKOHGSK.js";import{a as V}from"./chunk-IMUJMABS.js";import{a as h,b as tt,c as et}from"./chunk-RUE4O575.js";import{d as it}from"./chunk-T2AQUXFH.js";import{A as U,B as X,C as Y,D as Z,S as P,T as nt,b as z,i as R,j as $,l as F,m as H,r as N,s as L,t as q,u as j,v as B,w as W,x as G,y as J,z as K}from"./chunk-Q23MXH7B.js";import"./chunk-2PPFUFFT.js";import{l as k}from"./chunk-RYRDEO54.js";import"./chunk-I3X2TQNM.js";import{l as Q}from"./chunk-RF64FGT2.js";import"./chunk-QRFH67T7.js";import"./chunk-FD6YJ6N6.js";import"./chunk-3IDK2O2Y.js";import"./chunk-VR7FPLW7.js";import"./chunk-FQ7V5Y7D.js";import"./chunk-E2AUU6GZ.js";import{Bc as I,Fb as y,Gb as b,Kb as w,Tb as o,Ub as a,Vb as x,Wb as C,Xb as g,Zb as u,bb as m,ea as M,fc as f,hc as c,ma as d,mc as D,na as p,nc as O,oc as S,rb as v,sc as E,tc as r,uc as T,vc as A,yb as _}from"./chunk-YR66D3FA.js";import"./chunk-EQDQRRRY.js";var st=()=>[N,q,G,j,L,J,B,W,K,U,X,import("./chunk-OYM2J3YL.js").then(t=>t.MatCard),R,z,P,F,h,tt],mt=()=>[10,25,100];function ct(t,n){t&1&&(o(0,"th",20),r(1,"N\xBA OS"),a())}function _t(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.numeroOs," ")}}function dt(t,n){t&1&&(o(0,"th",20),r(1,"Status"),a())}function pt(t,n){if(t&1){let e=u();o(0,"td",22),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.status," ")}}function ut(t,n){t&1&&(o(0,"th",20),r(1," Identifica\xE7\xE3o "),a())}function ft(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.nome_amostra," ")}}function Ct(t,n){t&1&&(o(0,"th",20),r(1," Data_amostra "),a())}function gt(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.data_amostra," ")}}function At(t,n){t&1&&(o(0,"th",20),r(1,"Solicitante"),a())}function Mt(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.solicitante.name," ")}}function wt(t,n){t&1&&(o(0,"th",20),r(1," Ensaios_requeridos "),a())}function xt(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.ensaios_solicitados," ")}}function ht(t,n){t&1&&(o(0,"th",20),r(1," Prazo Inicio - Fim "),a())}function Dt(t,n){if(t&1){let e=u();o(0,"td",21),f("click",function(){let i=d(e).$implicit,l=c(2);return p(l.openAnalysisDetail(i))}),r(1),a()}if(t&2){let e=n.$implicit;m(),A(" ",e.prazo_inicio_fim," ")}}function Ot(t,n){t&1&&x(0,"tr",23)}function St(t,n){t&1&&x(0,"tr",24)}function Pt(t,n){if(t&1&&(o(0,"tr",25)(1,"td",26),r(2),a()()),t&2){c();let e=E(6);m(2),T(e.value)}}function vt(t,n){if(t&1){let e=u();o(0,"mat-card")(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),r(4,"Filter"),a(),o(5,"input",3,0),f("keyup",function(i){d(e);let l=c();return p(l.applyFilter(i))}),a()(),o(7,"div",4)(8,"table",5),C(9,6),_(10,ct,2,0,"th",7)(11,_t,2,1,"td",8),g(),C(12,9),_(13,dt,2,0,"th",7)(14,pt,2,1,"td",10),g(),C(15,11),_(16,ut,2,0,"th",7)(17,ft,2,1,"td",8),g(),C(18,12),_(19,Ct,2,0,"th",7)(20,gt,2,1,"td",8),g(),C(21,13),_(22,At,2,0,"th",7)(23,Mt,2,1,"td",8),g(),C(24,14),_(25,wt,2,0,"th",7)(26,xt,2,1,"td",8),g(),C(27,15),_(28,ht,2,0,"th",7)(29,Dt,2,1,"td",8),g(),_(30,Ot,1,0,"tr",16)(31,St,1,0,"tr",17)(32,Pt,3,1,"tr",18),a(),x(33,"mat-paginator",19),a()()()}if(t&2){let e=c();m(8),w("dataSource",e.dataSource),m(22),w("matHeaderRowDef",e.displayedColumns),m(),w("matRowDefColumns",e.displayedColumns),m(2),w("pageSizeOptions",I(4,mt))}}var lt=class t{#t=M(at);#e=M(V);#n=M(it);lista_amostras=[];displayedColumns=["numeroOs","status","nome_amostra","data_amostra","solicitante","ensaios_solicitados","prazo_inicio_fim"];dataSource=new Z;#i=M(ot).calcularPrazoEmDias;ngOnInit(){this.listarAmostras()}listarAmostras(){this.#t.httpListarTodasAsAmostras().subscribe(n=>{n&&n.amostras?(this.lista_amostras=Object.values(n.amostras).filter(e=>e.status==="Autorizada"&&e.prazo_inicio_fim!="Aguardando"),this.dataSource.data=this.lista_amostras):this.#e.error(n.message)})}openAnalysisDetail(n){this.#n.open(rt,{width:"50lvw",maxWidth:"90lvw",maxHeight:"90lvh",data:n}).afterClosed().subscribe(s=>{s&&this.listarAmostras()})}paginator;sort;ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){let e=n.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}calcularPrazo(n){return this.#i(n.split("-")[1])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-aguardando-analise"]],viewQuery:function(e,s){if(e&1&&(D(P,5),D(h,5)),e&2){let i;O(i=S())&&(s.paginator=i.first),O(i=S())&&(s.sort=i.first)}},decls:3,vars:0,consts:[["input",""],[1,"tabela-container"],[1,"filter-field"],["matInput","","placeholder","Ex. Mia",3,"keyup"],[1,"mat-elevation-z8","table-wrapper"],["mat-table","","matSort","",1,"t-table",3,"dataSource"],["matColumnDef","numeroOs"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","green",3,"click",4,"matCellDef"],["matColumnDef","nome_amostra"],["matColumnDef","data_amostra"],["matColumnDef","solicitante"],["matColumnDef","ensaios_solicitados"],["matColumnDef","prazo_inicio_fim"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",1,"sticky-paginator",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"click"],["mat-cell","",1,"green",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){e&1&&(_(0,vt,34,5),y(1,0,st),b())},dependencies:[Y,k,Q,$,H,et,nt],styles:["[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;max-height:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;position:relative}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .t-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%]{background:var(--gray-100)}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]   .tabela-container[_ngcontent-%COMP%]   .sticky-paginator[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:2}"]})};export{lt as AguardandoAnaliseComponent};
